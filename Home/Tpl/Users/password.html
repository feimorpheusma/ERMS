<{include file="../Public/header.html"}>

<script type="text/javascript" src="__PUBLIC__/js/Validform_v5.3.2_min.js"></script>
<div id="sub-header" class="group_h">
    <div class="container">
        <div class="navbar-header col-sm-offset-1" style="width: 16.66666666%;margin: 0;">
            <h1><a href="__APP__/Users/info">个人设置</a></h1>
        </div>
        <div class="col-md-6">
            <ul class="navbar-left">
                <li><a href="__APP__/Users/info">个人信息</a></li>
                <li class="active"><a href="__APP__/Users/password">密码设置</a></li>
                <li><a href="__APP__/Users/avatar">头像设置</a></li>
            </ul>
        </div>
    </div>
</div>

<div id="main">
    <div class="container">
        <div class="home_module">
            <div class="container">

                <div class="col-md-7">

                    <div class="tt">
                        <h3>密码设置</h3>
                    </div>
                    <hr>
                    <form id="password-from" class="mt30 form-horizontal" autocomplete="off"
                          action="__APP__/Users/updatepassword" method="POST">
                        <div class="form-group">
                            <label class="control-label col-md-2">旧密码</label>

                            <div class="col-md-6">
                                <input class="form-control col-md-3 input-lg" id="pass" name="password" size="30"
                                       type="password" placeholder="请输入旧密码" datatype="*" nullmsg="请填写密码"
                                       errormsg="密码范围在6~16位之间" plugin="passwordStrength">
                                <span class="Validform_checktip"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">新密码</label>

                            <div class="col-md-6">
                                <input class="form-control col-md-3 input-lg" id="new_pass" name="new_password"
                                       size="30" type="password" placeholder="请输入6到16位新密码" datatype="*6-16" nullmsg="请填写新密码"
                                       errormsg="密码范围在6~16位之间" plugin="passwordStrength">
                                <span class="Validform_checktip"></span>
                                <div class="passwordStrength" style="display:none;"><b>密码强度：</b>
                                    <span>弱</span><span>中</span><span class="last">强</span></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-2">重复新密码</label>
                            <div class="col-md-6">
                                <input class="form-control input-lg col-md-3" id="re_new_pass" name="re_new_password"
                                       size="30" type="password" placeholder="请重复输入新密码" datatype="*6-16"
                                       recheck="new_password" nullmsg="请再输入一次密码" errormsg="两次输入的密码不一致"
                                       plugin="passwordStrength">
                                <span class="Validform_checktip"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-6  col-md-offset-2">
                                <input type="submit" value="保存" class="btn btn-primary btn-lg">
                            </div>
                        </div>
                    </form>
                    <div class="col-md-4 col-sm-offset-1"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<{include file="../Public/footer.html"}>


<script type="text/javascript">
    $(function () {
        $("#password-from").Validform({
            postonce: true,
            tiptype: function (msg, o, cssctl) {
                var objtip = o.obj.siblings(".Validform_checktip");
                cssctl(objtip, o.type);
                objtip.text(msg);

            },

            // beforeSubmit:function(curform){
            //     $('#loadingWraper').show();
            //     curform.find('.btn').addClass('disabled').attr('disabled','disabled').html('请稍等...')
            // },

            usePlugin: {
                passwordstrength: {
                    minLen: 6,//设置密码长度最小值，默认为0;
                    maxLen: 16,//设置密码长度最大值，默认为30;
                    trigger: function (obj, error) {
                        if (error) {
                            obj.siblings(".Validform_checktip").show();
                            obj.siblings(".passwordStrength").hide();
                        } else {
                            obj.siblings(".Validform_checktip").hide();
                            obj.siblings(".passwordStrength").show();
                        }
                    }
                }
            }
        });
    })
</script>